# =============================================================================
# Open Japan PoliTech Platform (OJPP) - 環境変数テンプレート
# =============================================================================
# このファイルをコピーして .env を作成してください:
#   cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase / PostgreSQL
# -----------------------------------------------------------------------------
# ローカル開発（docker compose up 後のデフォルト値）
DATABASE_URL="postgresql://postgres:postgres@127.0.0.1:54322/postgres?connection_limit=5"
DIRECT_URL="postgresql://postgres:postgres@127.0.0.1:54322/postgres"

# Supabase Cloud（本番/プレビュー用）
# DATABASE_URL には Supavisor (pooler) の URL を使用（ポート6543 + pgbouncer=true）
# DIRECT_URL には直接接続 URL を使用（ポート5432、マイグレーション用）
# DATABASE_URL="postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-ap-northeast-1.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=10"
# DIRECT_URL="postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-ap-northeast-1.pooler.supabase.com:5432/postgres"

# Supabase クライアントSDK
NEXT_PUBLIC_SUPABASE_URL="http://127.0.0.1:54321"
# NOTE: anon key はクライアント側に公開されます。Row Level Security (RLS) で保護してください。
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"
# NOTE: service role key はサーバーサイドでのみ使用。絶対に NEXT_PUBLIC_ 付きにしないこと。
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# -----------------------------------------------------------------------------
# Admin アプリ認証
# -----------------------------------------------------------------------------
# admin アプリ（moneyglass-admin, parliscope-admin）へのアクセスを制限
# 本番環境では必ず設定すること。未設定時は 503 でアクセス拒否。
ADMIN_USERNAME="admin"
ADMIN_PASSWORD=""

# -----------------------------------------------------------------------------
# CORS（オプション）
# -----------------------------------------------------------------------------
# API のクロスオリジンリクエストを許可するオリジン（カンマ区切り）
# 未指定時は同一オリジン + *.vercel.app のみ許可
# ALLOWED_ORIGINS="https://moneyglass.example.com,https://policydiff.example.com"

# -----------------------------------------------------------------------------
# 各アプリのベースURL（本番デプロイ時に設定）
# -----------------------------------------------------------------------------
# NEXT_PUBLIC_BASE_URL="https://moneyglass.example.com"

# -----------------------------------------------------------------------------
# AI 機能（オプション — v0.2 以降で使用予定）
# -----------------------------------------------------------------------------
OPENAI_API_KEY=""
ANTHROPIC_API_KEY=""

# -----------------------------------------------------------------------------
# Node.js / ビルド設定
# -----------------------------------------------------------------------------
# NODE_ENV="production"
